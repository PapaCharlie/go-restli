/*
Code generated by "github.com/PapaCharlie/go-restli"; DO NOT EDIT.

Source file: /Users/pchesnai/code/personal/go-restli/spec-parser/build/libs/go-restli-spec-parser-2.0.0.jar
*/

package common

import (
	"github.com/PapaCharlie/go-restli/fnv1a"
	"github.com/PapaCharlie/go-restli/restli/equals"
	"github.com/PapaCharlie/go-restli/restli/patch"
	"github.com/PapaCharlie/go-restli/restlicodec"
)

// A generic ErrorResponse
type ErrorResponse struct {
	// The HTTP status code.
	Status *int32
	// A service-specific error code.
	ServiceErrorCode *int32
	// The canonical error code, e.g. for '400 Bad Request' it can be 'INPUT_VALIDATION_FAILED'. Only predefined codes should be used.
	Code *string
	// A human-readable explanation of the error.
	Message *string
	// URL to a page that describes this particular error in more detail.
	DocUrl *string
	// The unique identifier that would identify this error. For example, it can be used to identify requests in the service's logs.
	RequestId *string
	// The FQCN of the exception thrown by the server.
	ExceptionClass *string
	// The full stack trace of the exception thrown by the server.
	StackTrace *string
	// The type of the error detail model, e.g. com.example.api.BadRequest. Clients can use this field to identify the actual error detail schema.
	ErrorDetailType *string
	// This field should be used for communicating extra error details to clients.
	ErrorDetails *ErrorDetails
}

func (e *ErrorResponse) Equals(other *ErrorResponse) bool {
	if e == other {
		return true
	}
	if e == nil || other == nil {
		return false
	}

	return equals.ComparablePointer(e.Status, other.Status) &&
		equals.ComparablePointer(e.ServiceErrorCode, other.ServiceErrorCode) &&
		equals.ComparablePointer(e.Code, other.Code) &&
		equals.ComparablePointer(e.Message, other.Message) &&
		equals.ComparablePointer(e.DocUrl, other.DocUrl) &&
		equals.ComparablePointer(e.RequestId, other.RequestId) &&
		equals.ComparablePointer(e.ExceptionClass, other.ExceptionClass) &&
		equals.ComparablePointer(e.StackTrace, other.StackTrace) &&
		equals.ComparablePointer(e.ErrorDetailType, other.ErrorDetailType) &&
		e.ErrorDetails.Equals(other.ErrorDetails)
}

func (e *ErrorResponse) ComputeHash() fnv1a.Hash {
	if e == nil {
		return fnv1a.ZeroHash()
	}
	hash := fnv1a.NewHash()

	if e.Status != nil {
		hash.AddInt32(*e.Status)
	}

	if e.ServiceErrorCode != nil {
		hash.AddInt32(*e.ServiceErrorCode)
	}

	if e.Code != nil {
		hash.AddString(*e.Code)
	}

	if e.Message != nil {
		hash.AddString(*e.Message)
	}

	if e.DocUrl != nil {
		hash.AddString(*e.DocUrl)
	}

	if e.RequestId != nil {
		hash.AddString(*e.RequestId)
	}

	if e.ExceptionClass != nil {
		hash.AddString(*e.ExceptionClass)
	}

	if e.StackTrace != nil {
		hash.AddString(*e.StackTrace)
	}

	if e.ErrorDetailType != nil {
		hash.AddString(*e.ErrorDetailType)
	}

	if e.ErrorDetails != nil {
		hash.Add(e.ErrorDetails.ComputeHash())
	}

	return hash
}

func (e *ErrorResponse) MarshalRestLi(writer restlicodec.Writer) (err error) {
	return writer.WriteMap(func(keyWriter func(string) restlicodec.Writer) (err error) {
		if e.Code != nil {
			keyWriter("code").WriteString(*e.Code)
		}
		if e.DocUrl != nil {
			keyWriter("docUrl").WriteString(*e.DocUrl)
		}
		if e.ErrorDetailType != nil {
			keyWriter("errorDetailType").WriteString(*e.ErrorDetailType)
		}
		if e.ErrorDetails != nil {
			err = e.ErrorDetails.MarshalRestLi(keyWriter("errorDetails"))
			if err != nil {
				return err
			}
		}
		if e.ExceptionClass != nil {
			keyWriter("exceptionClass").WriteString(*e.ExceptionClass)
		}
		if e.Message != nil {
			keyWriter("message").WriteString(*e.Message)
		}
		if e.RequestId != nil {
			keyWriter("requestId").WriteString(*e.RequestId)
		}
		if e.ServiceErrorCode != nil {
			keyWriter("serviceErrorCode").WriteInt32(*e.ServiceErrorCode)
		}
		if e.StackTrace != nil {
			keyWriter("stackTrace").WriteString(*e.StackTrace)
		}
		if e.Status != nil {
			keyWriter("status").WriteInt32(*e.Status)
		}
		return nil
	})
}

func (e *ErrorResponse) MarshalJSON() (data []byte, err error) {
	writer := restlicodec.NewCompactJsonWriter()
	err = e.MarshalRestLi(writer)
	if err != nil {
		return nil, err
	}
	return []byte(writer.Finalize()), nil
}

func (e *ErrorResponse) NewInstance() *ErrorResponse {
	return new(ErrorResponse)
}

func (e *ErrorResponse) UnmarshalRestLi(reader restlicodec.Reader) (err error) {
	err = reader.ReadRecord(nil, func(reader restlicodec.Reader, field string) (err error) {
		switch field {
		case "status":
			e.Status = new(int32)
			*e.Status, err = reader.ReadInt32()
		case "serviceErrorCode":
			e.ServiceErrorCode = new(int32)
			*e.ServiceErrorCode, err = reader.ReadInt32()
		case "code":
			e.Code = new(string)
			*e.Code, err = reader.ReadString()
		case "message":
			e.Message = new(string)
			*e.Message, err = reader.ReadString()
		case "docUrl":
			e.DocUrl = new(string)
			*e.DocUrl, err = reader.ReadString()
		case "requestId":
			e.RequestId = new(string)
			*e.RequestId, err = reader.ReadString()
		case "exceptionClass":
			e.ExceptionClass = new(string)
			*e.ExceptionClass, err = reader.ReadString()
		case "stackTrace":
			e.StackTrace = new(string)
			*e.StackTrace, err = reader.ReadString()
		case "errorDetailType":
			e.ErrorDetailType = new(string)
			*e.ErrorDetailType, err = reader.ReadString()
		case "errorDetails":
			e.ErrorDetails = new(ErrorDetails)
			err = e.ErrorDetails.UnmarshalRestLi(reader)
		default:
			err = reader.Skip()
		}
		return err
	})
	if err != nil {
		return err
	}

	return err
}

func (e *ErrorResponse) UnmarshalJSON(data []byte) error {
	return restlicodec.UnmarshalJSON(data, e)
}

/*
================================================================================
PARTIAL UPDATE STRUCTS
================================================================================
*/

type ErrorResponse_PartialUpdate_Delete_Fields struct {
	Status           bool
	ServiceErrorCode bool
	Code             bool
	Message          bool
	DocUrl           bool
	RequestId        bool
	ExceptionClass   bool
	StackTrace       bool
	ErrorDetailType  bool
	ErrorDetails     bool
}

func (e *ErrorResponse_PartialUpdate_Delete_Fields) MarshalRestLi(writer restlicodec.Writer) (err error) {
	return writer.WriteArray(func(itemWriter func() restlicodec.Writer) (err error) {
		if e.Code {
			itemWriter().WriteString("code")
		}
		if e.DocUrl {
			itemWriter().WriteString("docUrl")
		}
		if e.ErrorDetailType {
			itemWriter().WriteString("errorDetailType")
		}
		if e.ErrorDetails {
			itemWriter().WriteString("errorDetails")
		}
		if e.ExceptionClass {
			itemWriter().WriteString("exceptionClass")
		}
		if e.Message {
			itemWriter().WriteString("message")
		}
		if e.RequestId {
			itemWriter().WriteString("requestId")
		}
		if e.ServiceErrorCode {
			itemWriter().WriteString("serviceErrorCode")
		}
		if e.StackTrace {
			itemWriter().WriteString("stackTrace")
		}
		if e.Status {
			itemWriter().WriteString("status")
		}
		return nil
	})
}

func (e *ErrorResponse_PartialUpdate_Delete_Fields) MarshalJSON() (data []byte, err error) {
	writer := restlicodec.NewCompactJsonWriter()
	err = e.MarshalRestLi(writer)
	if err != nil {
		return nil, err
	}
	return []byte(writer.Finalize()), nil
}

func (e *ErrorResponse_PartialUpdate_Delete_Fields) NewInstance() *ErrorResponse_PartialUpdate_Delete_Fields {
	return new(ErrorResponse_PartialUpdate_Delete_Fields)
}

func (e *ErrorResponse_PartialUpdate_Delete_Fields) UnmarshalRestLi(reader restlicodec.Reader) (err error) {
	var field string
	return reader.ReadArray(func(reader restlicodec.Reader) (err error) {
		field, err = reader.ReadString()
		if err != nil {
			return err
		}

		switch field {
		case "status":
			e.Status = true
		case "serviceErrorCode":
			e.ServiceErrorCode = true
		case "code":
			e.Code = true
		case "message":
			e.Message = true
		case "docUrl":
			e.DocUrl = true
		case "requestId":
			e.RequestId = true
		case "exceptionClass":
			e.ExceptionClass = true
		case "stackTrace":
			e.StackTrace = true
		case "errorDetailType":
			e.ErrorDetailType = true
		case "errorDetails":
			e.ErrorDetails = true
		}
		return nil
	})
}

func (e *ErrorResponse_PartialUpdate_Delete_Fields) UnmarshalJSON(data []byte) error {
	return restlicodec.UnmarshalJSON(data, e)
}

type ErrorResponse_PartialUpdate_Set_Fields struct {
	// status
	Status *int32
	// serviceErrorCode
	ServiceErrorCode *int32
	// code
	Code *string
	// message
	Message *string
	// docUrl
	DocUrl *string
	// requestId
	RequestId *string
	// exceptionClass
	ExceptionClass *string
	// stackTrace
	StackTrace *string
	// errorDetailType
	ErrorDetailType *string
	// errorDetails
	ErrorDetails *ErrorDetails
}

func (e *ErrorResponse_PartialUpdate_Set_Fields) MarshalRestLi(writer restlicodec.Writer) (err error) {
	return writer.WriteMap(func(keyWriter func(string) restlicodec.Writer) (err error) {
		if e.Code != nil {
			keyWriter("code").WriteString(*e.Code)
		}
		if e.DocUrl != nil {
			keyWriter("docUrl").WriteString(*e.DocUrl)
		}
		if e.ErrorDetailType != nil {
			keyWriter("errorDetailType").WriteString(*e.ErrorDetailType)
		}
		if e.ErrorDetails != nil {
			err = e.ErrorDetails.MarshalRestLi(keyWriter("errorDetails"))
			if err != nil {
				return err
			}
		}
		if e.ExceptionClass != nil {
			keyWriter("exceptionClass").WriteString(*e.ExceptionClass)
		}
		if e.Message != nil {
			keyWriter("message").WriteString(*e.Message)
		}
		if e.RequestId != nil {
			keyWriter("requestId").WriteString(*e.RequestId)
		}
		if e.ServiceErrorCode != nil {
			keyWriter("serviceErrorCode").WriteInt32(*e.ServiceErrorCode)
		}
		if e.StackTrace != nil {
			keyWriter("stackTrace").WriteString(*e.StackTrace)
		}
		if e.Status != nil {
			keyWriter("status").WriteInt32(*e.Status)
		}
		return nil
	})
}

func (e *ErrorResponse_PartialUpdate_Set_Fields) MarshalJSON() (data []byte, err error) {
	writer := restlicodec.NewCompactJsonWriter()
	err = e.MarshalRestLi(writer)
	if err != nil {
		return nil, err
	}
	return []byte(writer.Finalize()), nil
}

func (e *ErrorResponse_PartialUpdate_Set_Fields) NewInstance() *ErrorResponse_PartialUpdate_Set_Fields {
	return new(ErrorResponse_PartialUpdate_Set_Fields)
}

func (e *ErrorResponse_PartialUpdate_Set_Fields) UnmarshalRestLi(reader restlicodec.Reader) (err error) {
	err = reader.ReadRecord(nil, func(reader restlicodec.Reader, field string) (err error) {
		switch field {
		case "status":
			e.Status = new(int32)
			*e.Status, err = reader.ReadInt32()
		case "serviceErrorCode":
			e.ServiceErrorCode = new(int32)
			*e.ServiceErrorCode, err = reader.ReadInt32()
		case "code":
			e.Code = new(string)
			*e.Code, err = reader.ReadString()
		case "message":
			e.Message = new(string)
			*e.Message, err = reader.ReadString()
		case "docUrl":
			e.DocUrl = new(string)
			*e.DocUrl, err = reader.ReadString()
		case "requestId":
			e.RequestId = new(string)
			*e.RequestId, err = reader.ReadString()
		case "exceptionClass":
			e.ExceptionClass = new(string)
			*e.ExceptionClass, err = reader.ReadString()
		case "stackTrace":
			e.StackTrace = new(string)
			*e.StackTrace, err = reader.ReadString()
		case "errorDetailType":
			e.ErrorDetailType = new(string)
			*e.ErrorDetailType, err = reader.ReadString()
		case "errorDetails":
			e.ErrorDetails = new(ErrorDetails)
			err = e.ErrorDetails.UnmarshalRestLi(reader)
		default:
			err = reader.Skip()
		}
		return err
	})
	if err != nil {
		return err
	}

	return err
}

func (e *ErrorResponse_PartialUpdate_Set_Fields) UnmarshalJSON(data []byte) error {
	return restlicodec.UnmarshalJSON(data, e)
}

// ErrorResponse_PartialUpdate is used to represent a partial update on ErrorResponse. Toggling the value of a field
// in Delete represents selecting it for deletion in a partial update, while
// setting the value of a field in Update represents setting that field in the
// current struct. Other fields in this struct represent record fields that can
// themselves be partially updated.
type ErrorResponse_PartialUpdate struct {
	Delete_Fields ErrorResponse_PartialUpdate_Delete_Fields
	Set_Fields    ErrorResponse_PartialUpdate_Set_Fields
	ErrorDetails  *ErrorDetails_PartialUpdate
}

func (e *ErrorResponse_PartialUpdate) MarshalRestLiPatch(writer restlicodec.Writer) (err error) {
	return writer.WriteMap(func(keyWriter func(string) restlicodec.Writer) (err error) {
		checker := patch.PartialUpdateFieldChecker{RecordType: "com.linkedin.restli.common.ErrorResponse"}
		if err = checker.CheckField(writer, "status", e.Delete_Fields.Status, e.Set_Fields.Status != nil, false); err != nil {
			return err
		}
		if err = checker.CheckField(writer, "serviceErrorCode", e.Delete_Fields.ServiceErrorCode, e.Set_Fields.ServiceErrorCode != nil, false); err != nil {
			return err
		}
		if err = checker.CheckField(writer, "code", e.Delete_Fields.Code, e.Set_Fields.Code != nil, false); err != nil {
			return err
		}
		if err = checker.CheckField(writer, "message", e.Delete_Fields.Message, e.Set_Fields.Message != nil, false); err != nil {
			return err
		}
		if err = checker.CheckField(writer, "docUrl", e.Delete_Fields.DocUrl, e.Set_Fields.DocUrl != nil, false); err != nil {
			return err
		}
		if err = checker.CheckField(writer, "requestId", e.Delete_Fields.RequestId, e.Set_Fields.RequestId != nil, false); err != nil {
			return err
		}
		if err = checker.CheckField(writer, "exceptionClass", e.Delete_Fields.ExceptionClass, e.Set_Fields.ExceptionClass != nil, false); err != nil {
			return err
		}
		if err = checker.CheckField(writer, "stackTrace", e.Delete_Fields.StackTrace, e.Set_Fields.StackTrace != nil, false); err != nil {
			return err
		}
		if err = checker.CheckField(writer, "errorDetailType", e.Delete_Fields.ErrorDetailType, e.Set_Fields.ErrorDetailType != nil, false); err != nil {
			return err
		}
		if err = checker.CheckField(writer, "errorDetails", e.Delete_Fields.ErrorDetails, e.Set_Fields.ErrorDetails != nil, e.ErrorDetails != nil); err != nil {
			return err
		}
		if checker.HasDeletes {
			err = e.Delete_Fields.MarshalRestLi(keyWriter("$delete"))
			if err != nil {
				return err
			}
		}

		if checker.HasSets {
			err = e.Set_Fields.MarshalRestLi(keyWriter("$set"))
			if err != nil {
				return err
			}
		}

		if e.ErrorDetails != nil {
			err = e.ErrorDetails.MarshalRestLiPatch(keyWriter("errorDetails"))
			if err != nil {
				return err
			}
		}

		return nil
	})
}

func (e *ErrorResponse_PartialUpdate) MarshalRestLi(writer restlicodec.Writer) (err error) {
	return writer.WriteMap(func(keyWriter func(string) restlicodec.Writer) (err error) {
		return e.MarshalRestLiPatch(keyWriter(patch.PatchField).SetScope())
	})
}

func (e *ErrorResponse_PartialUpdate) MarshalJSON() (data []byte, err error) {
	writer := restlicodec.NewCompactJsonWriter()
	err = e.MarshalRestLi(writer)
	if err != nil {
		return nil, err
	}
	return []byte(writer.Finalize()), nil
}

func (e *ErrorResponse_PartialUpdate) UnmarshalRestLiPatch(reader restlicodec.Reader) (err error) {
	err = reader.ReadMap(func(reader restlicodec.Reader, key string) (err error) {
		switch key {
		case "$delete":
			err = e.Delete_Fields.UnmarshalRestLi(reader)
		case "$set":
			err = e.Set_Fields.UnmarshalRestLi(reader)
		case "errorDetails":
			e.ErrorDetails = new(ErrorDetails_PartialUpdate)
			err = e.ErrorDetails.UnmarshalRestLiPatch(reader)
		default:
			err = reader.Skip()
		}
		return err
	})
	if err != nil {
		return err
	}
	checker := patch.PartialUpdateFieldChecker{RecordType: "com.linkedin.restli.common.ErrorResponse"}
	if err = checker.CheckField(reader, "status", e.Delete_Fields.Status, e.Set_Fields.Status != nil, false); err != nil {
		return err
	}
	if err = checker.CheckField(reader, "serviceErrorCode", e.Delete_Fields.ServiceErrorCode, e.Set_Fields.ServiceErrorCode != nil, false); err != nil {
		return err
	}
	if err = checker.CheckField(reader, "code", e.Delete_Fields.Code, e.Set_Fields.Code != nil, false); err != nil {
		return err
	}
	if err = checker.CheckField(reader, "message", e.Delete_Fields.Message, e.Set_Fields.Message != nil, false); err != nil {
		return err
	}
	if err = checker.CheckField(reader, "docUrl", e.Delete_Fields.DocUrl, e.Set_Fields.DocUrl != nil, false); err != nil {
		return err
	}
	if err = checker.CheckField(reader, "requestId", e.Delete_Fields.RequestId, e.Set_Fields.RequestId != nil, false); err != nil {
		return err
	}
	if err = checker.CheckField(reader, "exceptionClass", e.Delete_Fields.ExceptionClass, e.Set_Fields.ExceptionClass != nil, false); err != nil {
		return err
	}
	if err = checker.CheckField(reader, "stackTrace", e.Delete_Fields.StackTrace, e.Set_Fields.StackTrace != nil, false); err != nil {
		return err
	}
	if err = checker.CheckField(reader, "errorDetailType", e.Delete_Fields.ErrorDetailType, e.Set_Fields.ErrorDetailType != nil, false); err != nil {
		return err
	}
	if err = checker.CheckField(reader, "errorDetails", e.Delete_Fields.ErrorDetails, e.Set_Fields.ErrorDetails != nil, e.ErrorDetails != nil); err != nil {
		return err
	}
	return nil
}

func (e *ErrorResponse_PartialUpdate) NewInstance() *ErrorResponse_PartialUpdate {
	return new(ErrorResponse_PartialUpdate)
}

func (e *ErrorResponse_PartialUpdate) UnmarshalRestLi(reader restlicodec.Reader) (err error) {
	return reader.ReadRecord(patch.RequiredPatchRecordFields, func(reader restlicodec.Reader, field string) (err error) {
		if field == patch.PatchField {
			return e.UnmarshalRestLiPatch(reader)
		} else {
			return reader.Skip()
		}
	})
}

func (e *ErrorResponse_PartialUpdate) UnmarshalJSON(data []byte) error {
	return restlicodec.UnmarshalJSON(data, e)
}
